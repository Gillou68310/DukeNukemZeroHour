name: Duke Nukem Zero Hour (North America)
sha1: de4db292cc6cf5dd1dd1d3c9700cf8e5c3078410
options:
  basename: dukenukemzerohour
  target_path: baserom.us.z64
  base_path: .
  compiler: GCC
  find_file_boundaries: True
  header_encoding: ASCII
  platform: n64
  # undefined_funcs_auto: True
  # undefined_funcs_auto_path: undefined_funcs_auto.txt
  # undefined_syms_auto: True
  # undefined_syms_auto_path: undefined_syms_auto.txt
  # symbol_addrs_path: symbol_addrs.txt
  # undefined_syms_path: undefined_syms.txt
  asm_path: .
  src_path: .
  nonmatchings_path : nonmatchings
  # build_path: build
  # extensions_path: tools/splat_ext
  # mips_abi_float_regs: o32
  # section_order: [".text", ".data", ".rodata", ".bss"]
  # auto_all_sections: [".data", ".rodata", ".bss"]
  asm_inc_header: "\t.set noat\n\t.set noreorder\n"
  migrate_rodata_to_functions: False
  add_set_gp_64: False
segments:
  - name: gen/header
    type: header
    start: 0x0

  - name: boot
    type: bin
    start: 0x40

  - name: main
    type: code
    start: 0x1000
    vram: 0x80000400
    subalign: 8
    subsegments:
    #.text section
      - [0x1000,  c,        src/bss_padding]
      - [0x1000,  hasm,     gen/entrypoint]
      - [0x1050,  c,        gen/1050]
      - [0x4590,  c,        gen/4590]
      - [0x4600,  c,        gen/4600]
      - [0x5D50,  c,        src/utils/graphics]
      - [0x71F0,  c,        gen/71F0]
      - [0x9410,  c,        gen/9410]
      - [0x16DF0, c,        gen/16DF0]
      - [0x16FF0, c,        gen/16FF0]
      - [0x17B30, c,        gen/17B30]
      - [0x1A7C0, c,        gen/1A7C0]
      - [0x1E7A0, c,        gen/1E7A0]
      - [0x20490, c,        gen/20490]
      - [0x21500, c,        gen/21500]
      - [0x24610, c,        gen/24610]
      - [0x2ABE0, c,        src/2ABE0]
      - [0x2BAB0, c,        gen/2BAB0]
      - [0x2BC40, c,        gen/2BC40]
      - [0x2BD00, c,        gen/2BD00]
      - [0x2BE90, c,        gen/2BE90]
      - [0x2C020, c,        gen/2C020]
      - [0x2C1C0, c,        gen/2C1C0]
      - [0x35D90, c,        gen/35D90]
      - [0x35EA0, c,        gen/35EA0]
      - [0x36410, c,        gen/36410]
      - [0x37090, c,        gen/37090]
      - [0x3FAD0, c,        gen/3FAD0]
      - [0x41940, c,        gen/41940]
      - [0x59D40, c,        gen/59D40]
      - [0x609D0, c,        gen/609D0]
      - [0x64530, c,        gen/64530]
      - [0x7A430, c,        gen/7A430]
      - [0x7BA50, c,        gen/7BA50]
      - [0x7CBC0, c,        gen/7CBC0]
      - [0x7F6A0, c,        gen/7F6A0]
      - [0x7FCE0, c,        gen/7FCE0]
      - [0x814D0, c,        gen/814D0]
      - [0x82480, c,        gen/82480]
      - [0x84490, c,        gen/84490]
      - [0x87010, c,        gen/87010]
      - [0x88690, c,        gen/88690]
      - [0x8E670, c,        gen/8E670]
      - [0x8EFE0, c,        gen/8EFE0]
      - [0x95500, c,        gen/95500]
      - [0xA06F0, c,        gen/A06F0]
      - [0xA5580, c,        gen/A5580]
      - [0xA8E80, c,        gen/A8E80]
      - [0xA9D60, c,        gen/A9D60]
      - [0xAA020, c,        gen/AA020]
      - [0xAA220, hasm,     libreultra/src/gu/sqrtf]
      - [0xAA230, c,        libreultra/src/gu/cosf]
      - [0xAA380, c,        libreultra/src/gu/coss]
      - [0xAA3B0, c,        libreultra/src/gu/lookat]
      - [0xAAAC0, c,        libreultra/src/gu/lookatref]
      - [0xAB0B0, c,        libreultra/src/gu/mtxutil]
      - [0xAB330, c,        libreultra/src/gu/mtxcatl]
      - [0xAB430, c,        libreultra/src/gu/ortho]
      - [0xAB6B0, c,        libreultra/src/gu/perspective]
      - [0xABA30, c,        libreultra/src/gu/rotateRPY]
      - [0xABD50, c,        libreultra/src/gu/scale]
      - [0xABE30, c,        libreultra/src/gu/sinf]
      - [0xABFD0, c,        libreultra/src/gu/sins]
      - [0xAC030, c,        libreultra/src/gu/translate]
      - [0xAC100, c,        libreultra/src/gu/position]
      - [0xAC4C0, c,        libreultra/src/gu/random]
      - [0xAC4F0, hasm,     libreultra/src/os/invaldcache]
      - [0xAC5A0, hasm,     libreultra/src/os/invalicache]
      - [0xAC620, bin]      #Padding
      - [0xAC680, hasm,     libreultra/src/os/writebackdcacheall]
      - [0xAC6B0, c,        libreultra/src/os/createmesgqueue]
      - [0xAC6E0, c,        libreultra/src/os/createthread]
      - [0xAC7B0, c,        libreultra/src/os/gettime]
      - [0xAC840, c,        libreultra/src/os/recvmesg]
      - [0xAC970, c,        libreultra/src/os/sendmesg]
      - [0xACAA0, c,        libreultra/src/os/setthreadpri]
      - [0xACB70, c,        libreultra/src/os/startthread]
      - [0xACC90, c,        libreultra/src/os/thread]
      - [0xACCD0, c,        libreultra/src/os/timerintr]
      - [0xACFD0, c,        libreultra/src/os/virtualtophysical]
      - [0xAD030, c,        libreultra/src/audio/load]
      - [0xADB40, c,        libreultra/src/audio/auxbus]
      - [0xADC50, c,        libreultra/src/audio/filter]
      - [0xADC70, c,        libreultra/src/audio/mainbus]
      - [0xADDE0, c,        libreultra/src/audio/resample]
      - [0xAE090, c,        libreultra/src/audio/sl]
      - [0xAE140, c,        libreultra/src/audio/heapinit]
      - [0xAE180, c,        libreultra/src/audio/heapalloc]
      - [0xAE1D0, c,        libreultra/src/audio/copy]
      - [0xAE210, c,        libreultra/src/audio/syndelete]
      - [0xAE220, c,        libreultra/src/audio/synaddplayer]
      - [0xAE270, c,        libreultra/src/audio/synallocvoice]
      - [0xAE450, c,        libreultra/src/audio/synstopvoice]
      - [0xAE4D0, c,        libreultra/src/audio/synstartvoice]
      - [0xAE570, c,        libreultra/src/audio/synsetpitch]
      - [0xAE600, c,        libreultra/src/audio/synsetvol]
      - [0xAE6C0, c,        libreultra/src/audio/synsetpan]
      - [0xAE750, c,        libreultra/src/io/aigetlen]
      - [0xAE760, c,        libreultra/src/io/aigetstat]
      - [0xAE770, c,        libreultra/src/io/aisetnextbuf]
      - [0xAE810, c,        libreultra/src/io/visetmode]
      - [0xAE860, c,        libreultra/src/io/viblack]
      - [0xAE8C0, c,        libreultra/src/io/contquery]
      - [0xAE960, c,        libreultra/src/io/controller]
      - [0xAEC70, c,        libreultra/src/io/conteeplongwrite]
      - [0xAED60, c,        libreultra/src/io/conteeplongread]
      - [0xAEDD0, c,        libreultra/src/io/epidma]
      - [0xAEE70, c,        libreultra/src/io/pidma]
      - [0xAEF20, c,        libreultra/src/libc/string]
      - [0xAEFB0, c,        libreultra/src/libc/sprintf]
      - [0xAF040, c,        libreultra/src/sched/sched]
      - [0xAFBA0, c,        libreultra/src/audio/drvrNew]
      - [0xB03D0, c,        libreultra/src/audio/env]
      - [0xB1080, c,        libreultra/src/audio/reverb]
      - [0xB1C20, c,        libreultra/src/audio/save]
      - [0xB1CF0, c,        libreultra/src/audio/synsetfxmix]
      - [0xB1D90, c,        libreultra/src/audio/synthesizer]
      - [0xB23D0, c,        libreultra/src/io/aisetfreq]
      - [0xB24F0, c,        libreultra/src/io/cartrominit]
      - [0xB2670, c,        libreultra/src/io/conteepprobe]
      - [0xB26F0, c,        libreultra/src/io/conteepread]
      - [0xB2910, c,        libreultra/src/io/conteepwrite]
      - [0xB2CC0, c,        libreultra/src/io/contreaddata]
      - [0xB2EA0, c,        libreultra/src/io/motor]
      - [0xB3230, c,        libreultra/src/io/pfsallocatefile]
      - [0xB3660, c,        libreultra/src/io/pfsdeletefile]
      - [0xB3880, c,        libreultra/src/io/pfsfilestate]
      - [0xB3A10, c,        libreultra/src/io/pfsfreeblocks]
      - [0xB3B20, c,        libreultra/src/io/pfsinitpak]
      - [0xB3DF0, c,        libreultra/src/io/pfsnumfiles]
      - [0xB3EF0, c,        libreultra/src/io/pfsreadwritefile]
      - [0xB4330, c,        libreultra/src/io/pfsrepairid]
      - [0xB4390, c,        libreultra/src/io/pfssearchfile]
      - [0xB4530, c,        libreultra/src/io/pfsselectbank]
      - [0xB45A0, c,        libreultra/src/io/pimgr]
      - [0xB4730, c,        libreultra/src/io/pirawdma]
      - [0xB4800, c,        libreultra/src/io/sirawdma]
      - [0xB48B0, c,        libreultra/src/io/vimgr]
      - [0xB48B0, c,        libreultra/src/io/vitbl]
      - [0xB48B0, c,        libreultra/src/io/vimodefpallpn1]
      - [0xB48B0, c,        libreultra/src/io/vimodefpallpf1]
      - [0xB48B0, c,        libreultra/src/io/vimodefpallan1]
      - [0xB48B0, c,        libreultra/src/io/vimodefpallaf1]
      - [0xB48B0, c,        libreultra/src/io/vimodefpallpn2]
      - [0xB48B0, c,        libreultra/src/io/vimodefpallpf2]
      - [0xB48B0, c,        libreultra/src/io/vimodefpallan2]
      - [0xB48B0, c,        libreultra/src/io/vimodefpallaf2]
      - [0xB48B0, c,        libreultra/src/io/vimodefpalhpn1]
      - [0xB48B0, c,        libreultra/src/io/vimodefpalhpf1]
      - [0xB48B0, c,        libreultra/src/io/vimodefpalhan1]
      - [0xB48B0, c,        libreultra/src/io/vimodefpalhaf1]
      - [0xB48B0, c,        libreultra/src/io/vimodefpalhpn2]
      - [0xB48B0, c,        libreultra/src/io/vimodefpalhpf2]
      - [0xB4BF0, c,        libreultra/src/io/visetspecial]
      - [0xB4D60, c,        libreultra/src/io/viswapcontext]
      - [0xB5070, c,        libreultra/src/os/afterprenmi]
      - [0xB5090, hasm,     libreultra/src/os/exceptasm]
      - [0xB5090, hasm,     libreultra/src/gu/libm_vals]
      - [0xB5A00, c,        libreultra/src/os/initialize]
      - [0xB5CE0, hasm,     libreultra/src/os/interrupt]
      - [0xB5D70, c,        libreultra/src/os/seteventmesg]
      - [0xB5E20, c,        libreultra/src/gu/mtxcatf]
      - [0xB5FB0, hasm,     libreultra/src/os/getcause]
      - [0xB5FC0, hasm,     libreultra/src/os/getcount]
      - [0xB5FD0, hasm,     libreultra/src/os/getsr]
      - [0xB5FE0, hasm,     libreultra/src/os/probetlb]
      - [0xB60A0, hasm,     libreultra/src/os/setintmask]
      - [0xB6140, hasm,     libreultra/src/os/setcompare]
      - [0xB6150, hasm,     libreultra/src/os/setfpccsr]
      - [0xB6160, hasm,     libreultra/src/os/setsr]
      - [0xB6170, hasm,     libreultra/src/os/unmaptlball]
      - [0xB61C0, hasm,     libreultra/src/os/writebackdcache]
      - [0xB6240, hasm,     libreultra/src/os/maptlbrdb]
      - [0xB62A0, c,        libreultra/src/os/destroythread]
      - [0xB6370, c,        libreultra/src/os/getthreadpri]
      - [0xB6390, c,        libreultra/src/os/jammesg]
      - [0xB64D0, c,        libreultra/src/os/settimer]
      - [0xB6570, c,        src/assert]
      - [0xB6580, c,        libreultra/src/audio/synallocfx]
      - [0xB6620, c,        libreultra/src/io/ai]
      - [0xB6640, c,        libreultra/src/io/dpsetnextbuf]
      - [0xB66E0, c,        libreultra/src/io/spsetpc]
      - [0xB6710, c,        libreultra/src/io/sptask]
      - [0xB6950, c,        libreultra/src/io/sptaskyield]
      - [0xB6970, c,        libreultra/src/io/sptaskyielded]
      - [0xB69C0, c,        libreultra/src/io/vi]
      - [0xB6AD0, c,        libreultra/src/io/vigetcurrcontext]
      - [0xB6AE0, c,        libreultra/src/io/vigetcurrframebuf]
      - [0xB6B20, c,        libreultra/src/io/vigetnextframebuf]
      - [0xB6B60, c,        libreultra/src/io/visetevent]
      - [0xB6BC0, c,        libreultra/src/io/viswapbuf]
      - [0xB6C10, c,        libreultra/src/io/siacs]
      - [0xB6C10, c,        libreultra/src/io/vimodentsclan1]
      - [0xB6C10, c,        libreultra/src/io/vimodepallan1]
      - [0xB6C10, c,        libreultra/src/io/vimodempallan1]
      - [0xB6D00, c,        libreultra/src/io/pigetcmdq]
      - [0xB6D20, c,        libreultra/src/io/piacs]
      - [0xB6E10, hasm,     libreultra/src/libc/bcmp]
      - [0xB6F20, hasm,     libreultra/src/libc/bcopy]
      - [0xB7240, hasm,     libreultra/src/libc/bzero]
      - [0xB72E0, c,        libreultra/src/libc/xprintf]
      - [0xB7D10, c,        libreultra/src/io/contpfs]
      - [0xB87A0, c,        libreultra/src/io/contramread]
      - [0xB89A0, c,        libreultra/src/io/contramwrite]
      - [0xB8BC0, c,        libreultra/src/io/crc]
      - [0xB8CB0, c,        libreultra/src/io/devmgr]
      - [0xB9070, c,        libreultra/src/io/epirawdma]
      - [0xB9260, c,        libreultra/src/io/epirawread]
      - [0xB93D0, c,        libreultra/src/io/epirawwrite]
      - [0xB9540, c,        libreultra/src/io/pfschecker]
      - [0xB9C60, c,        libreultra/src/io/pfsgetstatus]
      - [0xB9E70, c,        libreultra/src/io/sirawread]
      - [0xB9EC0, c,        libreultra/src/io/sirawwrite]
      - [0xB9F10, c,        libreultra/src/io/sprawdma]
      - [0xB9FA0, c,        libreultra/src/os/resetglobalintmask]
      - [0xB9FF0, c,        libreultra/src/os/setglobalintmask]
      - [0xBA030, c,        libreultra/src/os/yieldthread]
      - [0xBA080, c,        libreultra/src/io/dp]
      - [0xBA0A0, c,        libreultra/src/io/sp]
      - [0xBA0C0, c,        libreultra/src/io/spgetstat]
      - [0xBA0D0, c,        libreultra/src/io/spsetstat]
      - [0xBA0E0, c,        libreultra/src/io/si]
      - [0xBA100, c,        libreultra/src/io/pfsisplug]
      - [0xBA3E0, c,        libreultra/src/libc/xlitob]
      - [0xBA630, c,        libreultra/src/libc/xldtob]
      - [0xBB0B0, c,        libreultra/src/libc/ldiv]
      - [0xBB270, c,        gen/libkmc/sqrt]
      - [0xBB490, c,        gen/libkmc/strcmp]
      - [0xBB5A0, c,        gen/libkmc/strcpy]
      - [0xBB670, c,        gen/libkmc/toupper]
      - [0xBB6A0, c,        gen/libkmc/_matherr]
      - [0xBB710, hasm,     gen/libkmc/mcmpl]
      - [0xBB780, hasm,     gen/libkmc/mmuldi3]
      - [0xBBB50, hasm,     gen/libkmc/mcvtls]
      - [0xBBD40, c,        gen/libkmc/matherr]
      - [0xBBD50, bin,      ucode/rspboot]
      - [0xBBE20, bin,      ucode/gspF3DEX2.NoN.fifo]
      - [0xBD1B0, bin,      ucode/aspMain]
    #.data section
      - [0xBDFD0, data]
      - [0xBE050, .data,    src/utils/graphics]
      - [0xBE060, data]
      - [0xE2870, .data,    libreultra/src/gu/rotateRPY]
      - [0xE2880, .data,    libreultra/src/gu/sins]
      - [0xE3080, .data,    libreultra/src/gu/position]
      - [0xE3090, .data,    libreultra/src/gu/random]
      - [0xE30A0, .data,    libreultra/src/os/thread]
      - [0xE30C0, .data,    libreultra/src/os/timerintr]
      - [0xE30D0, .data,    libreultra/src/audio/sl]
      - [0xE30E0, .data,    libreultra/src/io/aisetnextbuf]
      - [0xE30F0, .data,    libreultra/src/io/controller]
      - [0xE3100, .data,    libreultra/src/sched/sched]
      - [0xE3110, .data,    libreultra/src/audio/drvrNew]
      - [0xE32A0, .data,    libreultra/src/audio/env]
      - [0xE33A0, .data,    libreultra/src/audio/reverb]
      - [0xE33C0, .data,    libreultra/src/io/cartrominit]
      - [0xE33D0, .data,    libreultra/src/io/pimgr]
      - [0xE3400, .data,    libreultra/src/io/vimgr]
      - [0xE3420, .data,    libreultra/src/io/vitbl]
      - [0xE4140, .data,    libreultra/src/io/vimodefpallpn1]
      - [0xE4190, .data,    libreultra/src/io/vimodefpallpf1]
      - [0xE41E0, .data,    libreultra/src/io/vimodefpallan1]
      - [0xE4230, .data,    libreultra/src/io/vimodefpallaf1]
      - [0xE4280, .data,    libreultra/src/io/vimodefpallpn2]
      - [0xE42D0, .data,    libreultra/src/io/vimodefpallpf2]
      - [0xE4320, .data,    libreultra/src/io/vimodefpallan2]
      - [0xE4370, .data,    libreultra/src/io/vimodefpallaf2]
      - [0xE43C0, .data,    libreultra/src/io/vimodefpalhpn1]
      - [0xE4410, .data,    libreultra/src/io/vimodefpalhpf1]
      - [0xE4460, .data,    libreultra/src/io/vimodefpalhan1]
      - [0xE44B0, .data,    libreultra/src/io/vimodefpalhaf1]
      - [0xE4500, .data,    libreultra/src/io/vimodefpalhpn2]
      - [0xE4550, .data,    libreultra/src/io/vimodefpalhpf2]
      - [0xE45A0, .data,    libreultra/src/os/exceptasm]
      - [0xE45D0, .data,    libreultra/src/os/initialize]
      - [0xE45F0, .data,    libreultra/src/os/seteventmesg]
      - [0xE4600, .data,    libreultra/src/io/vi]
      - [0xE4670, .data,    libreultra/src/io/siacs]
      - [0xE4680, .data,    libreultra/src/io/vimodentsclan1]
      - [0xE46D0, .data,    libreultra/src/io/vimodepallan1]
      - [0xE4720, .data,    libreultra/src/io/vimodempallan1]
      - [0xE4770, .data,    libreultra/src/io/piacs]
      - [0xE4780, .data,    libreultra/src/libc/xprintf]
      - [0xE47D0, .data,    libreultra/src/io/contpfs]
      - [0xE47E0, .data,    libreultra/src/io/contramread]
      - [0xE47F0, .data,    libreultra/src/libc/xlitob]
      - [0xE4820, data]     #TODO: libkmc
      - [0xE4920, bin,      ucode/gspF3DEX2.NoN.fifo.data]
      - [0xE4D40, bin,      ucode/aspMain.data]
    #.rodata section?
      - [0xE5000, rodata]
      - [0xE50D0, .rodata,  src/utils/graphics]
      - [0xE5110, rodata]
      - [0xEACA0, .rodata,  libreultra/src/gu/cosf]
      - [0xEAD00, .rodata,  libreultra/src/gu/lookat]
      - [0xEAD20, .rodata,  libreultra/src/gu/lookatref]
      - [0xEAD30, .rodata,  libreultra/src/gu/perspective]
      - [0xEAD70, .rodata,  libreultra/src/gu/sinf]
      - [0xEADD0, .rodata,  libreultra/src/audio/resample]
      - [0xEAE00, .rodata,  libreultra/src/sched/sched]
      - [0xEAE30, .rodata,  libreultra/src/audio/drvrNew]
      - [0xEAE70, .rodata,  libreultra/src/audio/env]
      - [0xEAF60, .rodata,  libreultra/src/audio/reverb]
      - [0xEAFB0, .rodata,  libreultra/src/audio/synthesizer]
      - [0xEAFD0, .rodata,  libreultra/src/io/aisetfreq]
      - [0xEAFE0, .rodata,  libreultra/src/io/viswapcontext]
      - [0xEAFF0, .rodata,  libreultra/src/os/exceptasm]
      - [0xEB040, .rodata,  libreultra/src/gu/libm_vals]
      - [0xEB050, .rodata,  libreultra/src/os/setintmask]
      - [0xEB0D0, .rodata,  libreultra/src/libc/xprintf]
      - [0xEB248, .rodata,  libreultra/src/io/devmgr]
      - [0xEB268, bin]      #Padding
      - [0xEB270, .rodata,  libreultra/src/libc/xldtob]
      - [0xEB2E0, rodata]   #TODO: libkmc
    #.bss section?
      - [0xEB300, .bss,     src/bss_padding]          # 0x800EA700 - 0x800FA650
      - [0xEB300, .bss,     libreultra/src/io/motor]  # 0x800FA650 - 0x800FA750
      - [0xEB300, .bss,     libreultra/src/io/pimgr]  # 0x800FA750 - 0x800FB920
      - [0xEB300, .bss,     libreultra/src/io/vimgr]  # 0x800FB920 - 0x800FCB40
      - [0xEB300, .bss,     libreultra/src/io/sptask] # 0x800FCB40 - 0x800FCB80
      - [0xEB300, .bss,     libreultra/src/io/siacs]  # 0x800FCB80 - 0x800FCB90
      - [0xEB300, .bss,     libreultra/src/io/piacs]  # 0x800FCB90 - 0x800FCBA0

  #Overlays?
  - type: bin
    start: 0xEB300

  - type: bin
    name: trailer #FF to the end
    start: 0x1FCB220

  - [0x2000000]
